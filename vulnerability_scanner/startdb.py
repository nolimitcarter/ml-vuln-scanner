import sqlite3

def get_vulnerabilities_from_db():
    # Connect to the database
    conn = sqlite3.connect('vulnerabilities.db')
    cursor = conn.cursor()

    # Fetch all vulnerabilities
    cursor.execute("SELECT * FROM vulnerabilities")
    vulnerabilities = cursor.fetchall()

    # Close the connection
    conn.close()

    # Format vulnerabilities into a list of dictionaries
    return [{'cve_id': row[1], 'description': row[2]} for row in vulnerabilities]

